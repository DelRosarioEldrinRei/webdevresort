extends ../../../templates/master

block main
	.container
		.row
			.col-sm-12.mx-auto
				.container
					form(method="POST" action="/reserve")#regForm
						.tab.container
							.row
								h3.ml-4 Reserve Details
							.row
								.col-sm-6.pl-0
									.form-group
										#datetimepicker4.input-group.date(data-target-input='nearest')
											input.form-control.datetimepicker-input.mt-4(type='text', data-target='#datetimepicker4' placeholder="Input Date")
											.input-group-append.mt-4(data-target='#datetimepicker4', data-toggle='datetimepicker')
												.input-group-text
													i.fa.fa-calendar(aria-hidden='true')
							.form-group
								.row
									label Choose Pool:
									.col-sm-12.p-0
										.row
											.col-sm-6.p-0
												label.btn.btn-primary.btn-block
													input#optionpool1(type='radio', name='optionpool', autocomplete='off')
													|  Private
											.col-sm-6.p-0
												label.btn.btn-primary.ml-1.btn-block
													input#optionpool2(type='radio', name='optionpool', autocomplete='off' checked="checked")
													|  Public
							.form-group#ifYes
								.row
									label Choose Time:
									.col-sm-12.p-0
										.row
											.col-sm-6.p-0
												label.btn.btn-primary.btn-block
													input#optionday1(type='radio', name='optionday', autocomplete='off')
													|  Day
											.col-sm-6.p-0
												label.btn.btn-primary.ml-1.btn-block
													input#optionday2(type='radio', name='optionday', autocomplete='off')
													|  Night
						.tab.container
							.row
								h3.ml-4 Reserve Tickets
							.row.mt-3
								.col-md-6.text-center
									h3.d-inline Adult &nbsp;
									select
										- var i = 1
										while i <= 50
											option=i++
								.col-md-6.text-center
									h3.d-inline Child &nbsp;
									select
										- var i = 1
										while i <= 50
											option=i++
							.row.mt-5
								h3.ml-4 Cottages
							.row.mt-2
								.col-lg-3.col-md-6.mb-4.mx-auto
									.card
										img.card-img-top(src='http://placehold.it/500x325', alt='')
										.card-body
											h4.card-title Card title
											p.card-text
												| Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo magni sapiente, tempore debitis beatae culpa natus architecto.
										.card-footer.text-center
											select
												- var i = 1
												while i <= 5
													option=i++
								.col-lg-3.col-md-6.mb-4.mx-auto
									.card
										img.card-img-top(src='http://placehold.it/500x325', alt='')
										.card-body
											h4.card-title Card title
											p.card-text
												| Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo magni sapiente, tempore debitis beatae culpa natus architecto.
										.card-footer.text-center
											select
												- var i = 1
												while i <= 5
													option=i++
								.col-lg-3.col-md-6.mb-4.mx-auto
									.card
										img.card-img-top(src='http://placehold.it/500x325', alt='')
										.card-body
											h4.card-title Card title
											p.card-text
												| Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo magni sapiente, tempore debitis beatae culpa natus architecto.
										.card-footer.text-center
											select
												- var i = 1
												while i <= 5
													option=i++
						.tab.container
							.row
								h3.ml-4 Reserve Rooms
							.row.mt-2
								.col-lg-3.col-md-6.mb-4.mx-auto
									.card
										img.card-img-top(src='http://placehold.it/500x325', alt='')
										.card-body
											h4.card-title Card title
											p.card-text
												| Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo magni sapiente, tempore debitis beatae culpa natus architecto.
										.card-footer.text-center
											select
												- var i = 1
												while i <= 5
													option=i++
								.col-lg-3.col-md-6.mb-4.mx-auto
									.card
										img.card-img-top(src='http://placehold.it/500x325', alt='')
										.card-body
											h4.card-title Card title
											p.card-text
												| Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo magni sapiente, tempore debitis beatae culpa natus architecto.
										.card-footer.text-center
											select
												- var i = 1
												while i <= 5
													option=i++
								.col-lg-3.col-md-6.mb-4.mx-auto
									.card
										img.card-img-top(src='http://placehold.it/500x325', alt='')
										.card-body
											h4.card-title Card title
											p.card-text
												| Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo magni sapiente, tempore debitis beatae culpa natus architecto.
										.card-footer.text-center
											select
												- var i = 1
												while i <= 5
													option=i++
						.text-right
							button.btn.btn-secondary(type="button" id="prevBtn" onclick="nextPrev(-1)") Previous
							button.btn.btn-success.ml-1(type="button" id="nextBtn" onclick="nextPrev(1)") Next
					.text-center.m-5
						span.step
						span.step
						span.step
block addjs
	script.
		let start = moment().add(7, 'days').calendar();
		$(function () {
			$('#datetimepicker4').datetimepicker({
				format: 'L',
				minDate: start
			});
		});

		$('#optionpool1').click(function() {
				$('#ifYes').slideUp();
				document.getElementById("nextBtn").innerHTML = "Submit";
				$("#nextBtn").prop("type", "submit");
		});
		$('#optionpool2').click(function() {
				$('#ifYes').slideDown();
				document.getElementById("nextBtn").innerHTML = "Next";
				$("#nextBtn").prop("type", "button");
		});

		if (document.getElementById("nextBtn").innerText == "Submit") {
			
		}

		let privatePool = document.getElementById("optionpool1");
		if(privatePool.checked) {
			//- document.getElementById("nextBtn").innerHTML = "Submit";
			//- document.getElementById("regForm").submit();
			//- return false;
		}

		var currentTab = 0; // Current tab is set to be the first tab (0)
		showTab(currentTab); // Display the current tab

		function showTab(n) {
			// This function will display the specified tab of the form ...
			var x = document.getElementsByClassName("tab");
			x[n].style.display = "block";
			// ... and fix the Previous/Next buttons:
			if (n == 0) {
				document.getElementById("prevBtn").style.display = "none";
			} else {
				document.getElementById("prevBtn").style.display = "inline";
			}
			if (n == (x.length - 1)) {
				document.getElementById("nextBtn").innerHTML = "Submit";
			} else {
				document.getElementById("nextBtn").innerHTML = "Next";
			}
			// ... and run a function that displays the correct step indicator:
			fixStepIndicator(n)
		}
		function nextPrev(n) {
			// This function will figure out which tab to display
			var x = document.getElementsByClassName("tab");
			// Exit the function if any field in the current tab is invalid:
			//- if (n == 1 && !validateForm()) return false;
			// Hide the current tab:
			x[currentTab].style.display = "none";
			// Increase or decrease the current tab by 1:
			currentTab = currentTab + n;
			// if you have reached the end of the form... :
			if (currentTab >= x.length) {
				//...the form gets submitted:
				document.getElementById("regForm").submit();
				return false;
			}
			// Otherwise, display the correct tab:
			showTab(currentTab);
		}

		//- function validateForm() {
		//- 	// This function deals with validation of the form fields
		//- 	var x, y, i, valid = true;
		//- 	x = document.getElementsByClassName("tab");
		//- 	y = x[currentTab].getElementsByTagName("input");
		//- 	// A loop that checks every input field in the current tab:
		//- 	for (i = 0; i < y.length; i++) {
		//- 		// If a field is empty...
		//- 		if (y[i].value == "") {
		//- 			// add an "invalid" class to the field:
		//- 			y[i].className += " invalid";
		//- 			// and set the current valid status to false:
		//- 			valid = false;
		//- 		}
		//- 	}
		//- 	// If the valid status is true, mark the step as finished and valid:
		//- 	if (valid) {
		//- 		document.getElementsByClassName("step")[currentTab].className += " finish";
		//- 	}
		//- 	return valid; // return the valid status
		//- }

		function fixStepIndicator(n) {
			// This function removes the "active" class of all steps...
			var i, x = document.getElementsByClassName("step");
			for (i = 0; i < x.length; i++) {
				x[i].className = x[i].className.replace(" active", "");
			}
			//... and adds the "active" class to the current step:
			x[n].className += " active";
		}